<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Linkify Settings</title>

    <link rel="icon"
          type="image/svg"
          href="images/settings.svg">

    <link rel="stylesheet"
          type="text/css"
          href="style.css"/>

    <script type="text/javascript" src="dep.js"></script>
    <script type="text/javascript" src="textToSpeech.js"></script>
    <script type="text/javascript" src="api_requests.js"></script>
    <script type="text/javascript" src="words_handler.js"></script>
    <script type="text/javascript" src="jokes.js"></script>

</head>
<body>

<style>
    /* HIDE RADIO */
    [type=radio] {
        position: absolute;
        opacity: 0;
        width: 0;
        height: 0;
    }

    /* IMAGE STYLES */
    [type=radio] + img {
        cursor: pointer;
    }

    /* CHECKED STYLES */
    [type=radio]:checked + img {
        outline: 4px solid #ffff55;
    }
</style>

<div>
    <h1 style="color: white">Native language</h1>


    <label>
        <input type="radio" id="en_flag"  name = 'langs' checked>
        <img src="images/flags/en.svg" width="50px" height="50px">
    </label>


    <label>
        <input type="radio"  id="es_flag"  name = 'langs'>
        <img src="images/flags/es.svg" width="50px" height="50px">
    </label>


    <label>
        <input type="radio" id="de_flag"  name = 'langs'>
        <img src="images/flags/de.svg" width="50px" height="50px">
    </label>


    <label>
        <input type="radio"    id="fr_flag"  name = 'langs'>
        <img src="images/flags/fr.svg" width="50px" height="50px">
    </label>


    <label>
        <input type="radio"    id="ru_flag"  name = 'langs'>
        <img src="images/flags/ru.svg" width="50px" height="50px">
    </label>


    <label>
        <input type="radio"   id="pt_flag"  name = 'langs'>
        <img src="images/flags/pt.svg" width="50px" height="50px">
    </label>


    <label>
        <input type="radio"   id="it_flag" name = 'langs' >
        <img src="images/flags/it.svg" width="50px" height="50px">
    </label>


    <label>
        <input type="radio"  id="nl_flag"  name = 'langs' >
        <img src="images/flags/nl.svg" width="50px" height="50px">
    </label>


    <label>
        <input type="radio"  id="zh_flag" name = 'langs'>
        <img src="images/flags/zh.svg" width="50px" height="50px">
    </label>




</div>


<br>
<br>
<br>

<div>
<h1 style="color: white">Articles</h1>



<label>
    <input type="radio"  id='ats1' name = 'arts' checked>
    <img src="images/dot.png" width="20px" height="20px">
    <span style="color: white; font-size: 22px">Both definitions and examples</span>
</label>
    <br>

<label>
    <input type="radio" id='ats2' name = 'arts'>
    <img src="images/dot.png" width="20px" height="20px">
    <span style="color: white; font-size: 22px">Definitions only</span>
</label>

    <br>

    <label>
        <input type="radio" id='ats3' name = 'arts'>
        <img src="images/dot.png" width="20px" height="20px">
    </label>
    <span style="color: white; font-size: 22px">Examples only</span>
</div>

<script>

    function reloadStuff(){
    }



    init_native_lang()
    console.log(std_langs[native_lang], getCookie_("nat"))

    ar = [
        document.getElementById("en_flag"),
        document.getElementById("es_flag"),
        document.getElementById("de_flag"),
        document.getElementById("fr_flag"),
        document.getElementById("ru_flag"),
        document.getElementById("pt_flag"),
        document.getElementById("it_flag"),
        document.getElementById("nl_flag"),
        document.getElementById("zh_flag"),
    ]

    ats1 = document.getElementById("ats1");
    ats2 = document.getElementById("ats2");
    ats3 = document.getElementById("ats3");

    ats1.addEventListener('change', function() {
        setCookie_("articles", "0", 1000)
        reloadStuff()
    });

    ats2.addEventListener('change', function() {
        setCookie_("articles", "1", 1000)
        reloadStuff()
    });

    ats3.addEventListener('change', function() {
        setCookie_("articles", "2", 1000)
        reloadStuff()
    });

    c = getCookie_("articles")
    if (c == "0" || c == ""){
        ats1.checked = true
    }

    if (c == "1"){
        ats2.checked = true
    }

    if (c == "2"){
        ats3.checked = true
    }

    ar[0].addEventListener('change', function() {
        native_lang = 0;
        setCookie_("nat", "0", 1000)
        reloadStuff()
    });

    ar[1].addEventListener('change', function() {
        native_lang = 1;
        setCookie_("nat", "1", 1000)
        reloadStuff()
    });

    ar[2].addEventListener('change', function() {
        native_lang = 2;
        setCookie_("nat", "2", 1000)
        reloadStuff()
    });

    ar[3].addEventListener('change', function() {
        native_lang = 3;
        setCookie_("nat", "3", 1000)
        reloadStuff()
    });

    ar[4].addEventListener('change', function() {
        native_lang = 4;
        setCookie_("nat", "4", 1000)
        reloadStuff()
    });

    ar[5].addEventListener('change', function() {
        native_lang = 5;
        setCookie_("nat", "5", 1000)
        reloadStuff()
    });

    ar[6].addEventListener('change', function() {
        native_lang = 6;
        setCookie_("nat", "6", 1000)
        reloadStuff()
    });

    ar[7].addEventListener('change', function() {
        native_lang = 7;
        setCookie_("nat", "7", 1000)
        reloadStuff()
    });

    ar[8].addEventListener('change', function() {
        native_lang = 8;
        setCookie_("nat", "8", 1000)
        reloadStuff()
    });



    for (var i = 0; i < ar.length; i++) {
        if(i == native_lang){
            ar[i].checked = true
        }
    }

    /*
    function getCookie_(cname) {
        var name = cname + "=";
        var decodedCookie = decodeURIComponent(document.cookie);
        var ca = decodedCookie.split(';');
        for (var i = 0; i < ca.length; i++) {
            var c = ca[i];
            while (c.charAt(0) == ' ') {
                c = c.substring(1);
            }
            if (c.indexOf(name) == 0) {
                return c.substring(name.length, c.length);
            }
        }
        return "";
    }

    function setCookie_(cname, cvalue, exdays) {
        var d = new Date();
        d.setTime(d.getTime() + (exdays * 24 * 60 * 60 * 1000));
        var expires = "expires=" + d.toUTCString();
        document.cookie = cname + "=" + cvalue + ";" + expires + ";path=/";
    }

    function determine(id1, id2, id3){
        var d1 = document.getElementById(id1)
        var d2 = document.getElementById(id2)
        var d3 = document.getElementById(id3)

        if(d1.checked){
            return "0";
        }

        if(d2.checked){
            return "1";
        }

        if(d3.checked){
            return "2";
        }

        return "";
    }

    let lb = document.getElementById("lockbar")


    gc = getCookie_("lockbar")

    mt = getCookie_("mt")
    if(mt == ""){
        mt = "2";
    }
    inf = getCookie_("inf")
    if(inf == ""){
        inf = "0";
    }
    rt = getCookie_("rt")
    if(rt == ""){
        rt = "1";
    }
    un = getCookie_("un")
    if(un == ""){
        un = "0";
    }
    syn = getCookie_("syn")
    if(syn == ""){
        syn = "0";
    }
    rel = getCookie_("rel")
    if(rel == ""){
        rel = "0";
    }
    der = getCookie_("der")
    if(der == ""){
        der = "0";
    }

    //init("b1_1", "b2_1", "b3_1", mt);
    init("b1_2", "b2_2", "b3_2", inf);
    init("b1_5", "b2_5", "b3_5", rt);
    init("b1_3", "b2_3", "b3_3", un);
    init("b1_4", "b2_4", "b3_4", syn);
    init("b1_6", "b2_6", "b3_6", rel);
    init("b1_7", "b2_7", "b3_7", der);

    if (gc == "true") {
        lb.checked = true
    }


    function sbmt() {
        let lb = document.getElementById("lockbar")
        setCookie_("lockbar", lb.checked, 1000);

        setCookie_("mt", "2", 1000);
        setCookie_("inf", determine("b1_2", "b2_2", "b3_2"), 1000);
        setCookie_("rt", determine("b1_5", "b2_5", "b3_5"), 1000);
        setCookie_("un", determine("b1_3", "b2_3", "b3_3"), 1000);
        setCookie_("syn", determine("b1_4", "b2_4", "b3_4"), 1000);
        setCookie_("rel", determine("b1_6", "b2_6", "b3_6"), 1000);
        setCookie_("der", determine("b1_7", "b2_7", "b3_7"), 1000);

        console.log(document.cookie)
    }

    function init(id1, id2, id3, vr){
        var d1 = document.getElementById(id1)
        var d2 = document.getElementById(id2)
        var d3 = document.getElementById(id3)

        if(vr == "0"){
            d1.checked = true
        }

        if(vr == "1"){
            d2.checked = true
        }

        if(vr == "2"){
            d3.checked = true
        }
    }
     */

</script>

</body>
</html>